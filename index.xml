<?xml version="1.0" encoding="UTF-8"?>
<rss xmlns:atom="http://www.w3.org/2005/Atom" xmlns:media="http://search.yahoo.com/mrss/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:distill="https://distill.pub/journal/" version="2.0">
  <channel>
    <title>ggGallery</title>
    <link>https://genchanghsu.github.io/ggGallery/</link>
    <atom:link href="https://genchanghsu.github.io/ggGallery/index.xml" rel="self" type="application/rss+xml"/>
    <description>A gallery of ggplots and beyond
</description>
    <generator>Distill</generator>
    <lastBuildDate>Wed, 26 May 2021 00:00:00 +0000</lastBuildDate>
    <item>
      <title>Guest Post #1. Communicating the ESSENCE of your data</title>
      <dc:creator>William Ou</dc:creator>
      <link>https://genchanghsu.github.io/ggGallery/posts/2021-05-26-guest-post-1-communicating-the-essence-of-your-data</link>
      <description>


&lt;!-- Webpage style --&gt;
&lt;style&gt;
d-article a {
    color: #2780e3 !important;
      border-bottom: none !important;
}

d-article a:hover {
  color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
  margin-left: -10% !important;
}

d-title {
  margin-left: -10%;
}

d-title h1{
  font-size: 45px;
  width: 130%;
}

d-article {
  margin-left: -10%;
}

p {
  width: 120%;
}

d-article h2 {
  width: 120%;
}

d-article h3 {
  width: 120%;
  font-size: 32px;
}

div.article-footer{
  width: 120%;
}

d-article div.sourceCode { 
  width: 120% !important;
}

d-article pre { 
  width: 120% !important;
}

div.l-body {
  width: 120% !important;
}

d-article table thead tr {
  height: 60px !important;
  width: 210px !important;
}

d-article table thead th {
  height: 60px !important;
  font-size: 22px !important;
  width: 210px !important;
}

d-article table tbody tr td {
  font-size: 21px !important;
  height: 60px !important;
  text-align: center !important;
  width: 210px !important;
}

&lt;/style&gt;
&lt;!-- Start of the article --&gt;
&lt;p&gt;&lt;strong&gt;&lt;em&gt;From the host&lt;/em&gt;&lt;/strong&gt;: Here comes the first guest post by William Ou! In this post, he will show you how to ‚Äúattractively‚Äù visualize the data using interactive plots and animations. This is a rather long post, but fear not, I promise you will find it interesting, and most importantly, your data visualization skills will &lt;strong&gt;LEVEL UP&lt;/strong&gt;!&lt;/p&gt;
&lt;h2 id="the-challenge"&gt;The challenge&lt;/h2&gt;
&lt;p&gt;Arguably the biggest challenge in data visualization is the fact that we live in a multi-dimensional and dynamic &lt;a href="#fn1" class="footnote-ref" id="fnref1"&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; world. Our 3D perception of the universe is an obvious case in support of the multi-dimensions part (all we need is more than 1-dimension!). You might argue that some things are in fact static though. But! If you look closely enough, everything in the physical world is dynamic, constantly moving and fluctuating in space and time. The screen on your computer may look ‚Äústatic‚Äù but it‚Äôs actually constantly emitting light. Even the wall in your room is made up of particles that are constantly moving. Yet, despite the ubiquity of multi-dimensionality and dynamical behaviors, a large amount of the information we acquire today comes in the standard 2D and static format: the book or Wikipedia page you‚Äôre reading, you‚Äôre Facebook feed, magazines etc.. Although there are ways of representing dynamic and multi-dimension features in 2D static mediums, doing so often distorts the original information and can hinder the ‚Äúessence‚Äù of the message that one wishes to convey. In many cases, deciphering distorted information requires practice and prior knowledge which renders the information accessible to only a few selected individuals. To demonstrate my point, consider the 2 ways of visualizing the &lt;a href="https://allisonhorst.github.io/palmerpenguins/articles/intro.html"&gt;Palmer Penguins&lt;/a&gt; dataset below:&lt;/p&gt;
&lt;h3 id="approach-1-dimension-reduction-pca"&gt;Approach 1: Dimension reduction (PCA)&lt;/h3&gt;
&lt;p&gt;&lt;img src="file2b5c74932ac4_files/figure-html/unnamed-chunk-1-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;h3 id="approach-2-3d-interactive-plots"&gt;Approach 2: 3D interactive plots&lt;/h3&gt;
&lt;div id="htmlwidget-c1995e35f9e1ddf80185" style="width:80%;height:480px;" class="plotly html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-c1995e35f9e1ddf80185"&gt;{"x":{"visdat":{"2b5ca72272e":["function () ","plotlyVisDat"]},"cur_data":"2b5ca72272e","attrs":{"2b5ca72272e":{"x":{},"y":{},"z":{},"col":{},"legendgroup":{},"marker":{"color":{},"colorscale":["#FFE1A1","#683531"],"showscale":true},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Palmer Penguins","scene":{"xaxis":{"title":"Bill length (mm)"},"yaxis":{"title":"Bill depth (mm)"},"zaxis":{"title":"Flipper length (mm)"}},"annotations":[{"x":1.13,"y":1.05,"text":"Body mass (g)","showarrow":false}],"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[39.1,39.5,40.3,36.7,39.3,38.9,39.2,41.1,38.6,34.6,36.6,38.7,42.5,34.4,46,37.8,37.7,35.9,38.2,38.8,35.3,40.6,40.5,37.9,40.5,39.5,37.2,39.5,40.9,36.4,39.2,38.8,42.2,37.6,39.8,36.5,40.8,36,44.1,37,39.6,41.1,36,42.3,39.6,40.1,35,42,34.5,41.4,39,40.6,36.5,37.6,35.7,41.3,37.6,41.1,36.4,41.6,35.5,41.1,35.9,41.8,33.5,39.7,39.6,45.8,35.5,42.8,40.9,37.2,36.2,42.1,34.6,42.9,36.7,35.1,37.3,41.3,36.3,36.9,38.3,38.9,35.7,41.1,34,39.6,36.2,40.8,38.1,40.3,33.1,43.2,35,41,37.7,37.8,37.9,39.7,38.6,38.2,38.1,43.2,38.1,45.6,39.7,42.2,39.6,42.7,38.6,37.3,35.7,41.1,36.2,37.7,40.2,41.4,35.2,40.6,38.8,41.5,39,44.1,38.5,43.1,36.8,37.5,38.1,41.1,35.6,40.2,37,39.7,40.2,40.6,32.1,40.7,37.3,39,39.2,36.6,36,37.8,36,41.5,46.1,50,48.7,50,47.6,46.5,45.4,46.7,43.3,46.8,40.9,49,45.5,48.4,45.8,49.3,42,49.2,46.2,48.7,50.2,45.1,46.5,46.3,42.9,46.1,47.8,48.2,50,47.3,42.8,45.1,59.6,49.1,48.4,42.6,44.4,44,48.7,42.7,49.6,45.3,49.6,50.5,43.6,45.5,50.5,44.9,45.2,46.6,48.5,45.1,50.1,46.5,45,43.8,45.5,43.2,50.4,45.3,46.2,45.7,54.3,45.8,49.8,49.5,43.5,50.7,47.7,46.4,48.2,46.5,46.4,48.6,47.5,51.1,45.2,45.2,49.1,52.5,47.4,50,44.9,50.8,43.4,51.3,47.5,52.1,47.5,52.2,45.5,49.5,44.5,50.8,49.4,46.9,48.4,51.1,48.5,55.9,47.2,49.1,46.8,41.7,53.4,43.3,48.1,50.5,49.8,43.5,51.5,46.2,55.1,48.8,47.2,46.8,50.4,45.2,49.9,46.5,50,51.3,45.4,52.7,45.2,46.1,51.3,46,51.3,46.6,51.7,47,52,45.9,50.5,50.3,58,46.4,49.2,42.4,48.5,43.2,50.6,46.7,52,50.5,49.5,46.4,52.8,40.9,54.2,42.5,51,49.7,47.5,47.6,52,46.9,53.5,49,46.2,50.9,45.5,50.9,50.8,50.1,49,51.5,49.8,48.1,51.4,45.7,50.7,42.5,52.2,45.2,49.3,50.2,45.6,51.9,46.8,45.7,55.8,43.5,49.6,50.8,50.2],"y":[18.7,17.4,18,19.3,20.6,17.8,19.6,17.6,21.2,21.1,17.8,19,20.7,18.4,21.5,18.3,18.7,19.2,18.1,17.2,18.9,18.6,17.9,18.6,18.9,16.7,18.1,17.8,18.9,17,21.1,20,18.5,19.3,19.1,18,18.4,18.5,19.7,16.9,18.8,19,17.9,21.2,17.7,18.9,17.9,19.5,18.1,18.6,17.5,18.8,16.6,19.1,16.9,21.1,17,18.2,17.1,18,16.2,19.1,16.6,19.4,19,18.4,17.2,18.9,17.5,18.5,16.8,19.4,16.1,19.1,17.2,17.6,18.8,19.4,17.8,20.3,19.5,18.6,19.2,18.8,18,18.1,17.1,18.1,17.3,18.9,18.6,18.5,16.1,18.5,17.9,20,16,20,18.6,18.9,17.2,20,17,19,16.5,20.3,17.7,19.5,20.7,18.3,17,20.5,17,18.6,17.2,19.8,17,18.5,15.9,19,17.6,18.3,17.1,18,17.9,19.2,18.5,18.5,17.6,17.5,17.5,20.1,16.5,17.9,17.1,17.2,15.5,17,16.8,18.7,18.6,18.4,17.8,18.1,17.1,18.5,13.2,16.3,14.1,15.2,14.5,13.5,14.6,15.3,13.4,15.4,13.7,16.1,13.7,14.6,14.6,15.7,13.5,15.2,14.5,15.1,14.3,14.5,14.5,15.8,13.1,15.1,15,14.3,15.3,15.3,14.2,14.5,17,14.8,16.3,13.7,17.3,13.6,15.7,13.7,16,13.7,15,15.9,13.9,13.9,15.9,13.3,15.8,14.2,14.1,14.4,15,14.4,15.4,13.9,15,14.5,15.3,13.8,14.9,13.9,15.7,14.2,16.8,16.2,14.2,15,15,15.6,15.6,14.8,15,16,14.2,16.3,13.8,16.4,14.5,15.6,14.6,15.9,13.8,17.3,14.4,14.2,14,17,15,17.1,14.5,16.1,14.7,15.7,15.8,14.6,14.4,16.5,15,17,15.5,15,16.1,14.7,15.8,14,15.1,15.2,15.9,15.2,16.3,14.1,16,16.2,13.7,14.3,15.7,14.8,16.1,17.9,19.5,19.2,18.7,19.8,17.8,18.2,18.2,18.9,19.9,17.8,20.3,17.3,18.1,17.1,19.6,20,17.8,18.6,18.2,17.3,17.5,16.6,19.4,17.9,19,18.4,19,17.8,20,16.6,20.8,16.7,18.8,18.6,16.8,18.3,20.7,16.6,19.9,19.5,17.5,19.1,17,17.9,18.5,17.9,19.6,18.7,17.3,16.4,19,17.3,19.7,17.3,18.8,16.6,19.9,18.8,19.4,19.5,16.5,17,19.8,18.1,18.2,19,18.7],"z":[181,186,195,193,190,181,195,182,191,198,185,195,197,184,194,174,180,189,185,180,187,183,187,172,180,178,178,188,184,195,196,190,180,181,184,182,195,186,196,185,190,182,190,191,186,188,190,200,187,191,186,193,181,194,185,195,185,192,184,192,195,188,190,198,190,190,196,197,190,195,191,184,187,195,189,196,187,193,191,194,190,189,189,190,202,205,185,186,187,208,190,196,178,192,192,203,183,190,193,184,199,190,181,197,198,191,193,197,191,196,188,199,189,189,187,198,176,202,186,199,191,195,191,210,190,197,193,199,187,190,191,200,185,193,193,187,188,190,192,185,190,184,195,193,187,201,211,230,210,218,215,210,211,219,209,215,214,216,214,213,210,217,210,221,209,222,218,215,213,215,215,215,215,210,220,222,209,207,230,220,220,213,219,208,208,208,225,210,216,222,217,210,225,213,215,210,220,210,225,217,220,208,220,208,224,208,221,214,231,219,230,229,220,223,216,221,221,217,216,230,209,220,215,223,212,221,212,224,212,228,218,218,212,230,218,228,212,224,214,226,216,222,203,225,219,228,215,228,215,210,219,208,209,216,229,213,230,217,230,222,214,215,222,212,213,192,196,193,188,197,198,178,197,195,198,193,194,185,201,190,201,197,181,190,195,181,191,187,193,195,197,200,200,191,205,187,201,187,203,195,199,195,210,192,205,210,187,196,196,196,201,190,212,187,198,199,201,193,203,187,197,191,203,202,194,206,189,195,207,202,193,210,198],"col":[3750,3800,3250,3450,3650,3625,4675,3200,3800,4400,3700,3450,4500,3325,4200,3400,3600,3800,3950,3800,3800,3550,3200,3150,3950,3250,3900,3300,3900,3325,4150,3950,3550,3300,4650,3150,3900,3100,4400,3000,4600,3425,3450,4150,3500,4300,3450,4050,2900,3700,3550,3800,2850,3750,3150,4400,3600,4050,2850,3950,3350,4100,3050,4450,3600,3900,3550,4150,3700,4250,3700,3900,3550,4000,3200,4700,3800,4200,3350,3550,3800,3500,3950,3600,3550,4300,3400,4450,3300,4300,3700,4350,2900,4100,3725,4725,3075,4250,2925,3550,3750,3900,3175,4775,3825,4600,3200,4275,3900,4075,2900,3775,3350,3325,3150,3500,3450,3875,3050,4000,3275,4300,3050,4000,3325,3500,3500,4475,3425,3900,3175,3975,3400,4250,3400,3475,3050,3725,3000,3650,4250,3475,3450,3750,3700,4000,4500,5700,4450,5700,5400,4550,4800,5200,4400,5150,4650,5550,4650,5850,4200,5850,4150,6300,4800,5350,5700,5000,4400,5050,5000,5100,5650,4600,5550,5250,4700,5050,6050,5150,5400,4950,5250,4350,5350,3950,5700,4300,4750,5550,4900,4200,5400,5100,5300,4850,5300,4400,5000,4900,5050,4300,5000,4450,5550,4200,5300,4400,5650,4700,5700,5800,4700,5550,4750,5000,5100,5200,4700,5800,4600,6000,4750,5950,4625,5450,4725,5350,4750,5600,4600,5300,4875,5550,4950,5400,4750,5650,4850,5200,4925,4875,4625,5250,4850,5600,4975,5500,5500,4700,5500,4575,5500,5000,5950,4650,5500,4375,5850,6000,4925,4850,5750,5200,5400,3500,3900,3650,3525,3725,3950,3250,3750,4150,3700,3800,3775,3700,4050,3575,4050,3300,3700,3450,4400,3600,3400,2900,3800,3300,4150,3400,3800,3700,4550,3200,4300,3350,4100,3600,3900,3850,4800,2700,4500,3950,3650,3550,3500,3675,4450,3400,4300,3250,3675,3325,3950,3600,4050,3350,3450,3250,4050,3800,3525,3950,3650,3650,4000,3400,3775,4100,3775],"legendgroup":[3750,3800,3250,3450,3650,3625,4675,3200,3800,4400,3700,3450,4500,3325,4200,3400,3600,3800,3950,3800,3800,3550,3200,3150,3950,3250,3900,3300,3900,3325,4150,3950,3550,3300,4650,3150,3900,3100,4400,3000,4600,3425,3450,4150,3500,4300,3450,4050,2900,3700,3550,3800,2850,3750,3150,4400,3600,4050,2850,3950,3350,4100,3050,4450,3600,3900,3550,4150,3700,4250,3700,3900,3550,4000,3200,4700,3800,4200,3350,3550,3800,3500,3950,3600,3550,4300,3400,4450,3300,4300,3700,4350,2900,4100,3725,4725,3075,4250,2925,3550,3750,3900,3175,4775,3825,4600,3200,4275,3900,4075,2900,3775,3350,3325,3150,3500,3450,3875,3050,4000,3275,4300,3050,4000,3325,3500,3500,4475,3425,3900,3175,3975,3400,4250,3400,3475,3050,3725,3000,3650,4250,3475,3450,3750,3700,4000,4500,5700,4450,5700,5400,4550,4800,5200,4400,5150,4650,5550,4650,5850,4200,5850,4150,6300,4800,5350,5700,5000,4400,5050,5000,5100,5650,4600,5550,5250,4700,5050,6050,5150,5400,4950,5250,4350,5350,3950,5700,4300,4750,5550,4900,4200,5400,5100,5300,4850,5300,4400,5000,4900,5050,4300,5000,4450,5550,4200,5300,4400,5650,4700,5700,5800,4700,5550,4750,5000,5100,5200,4700,5800,4600,6000,4750,5950,4625,5450,4725,5350,4750,5600,4600,5300,4875,5550,4950,5400,4750,5650,4850,5200,4925,4875,4625,5250,4850,5600,4975,5500,5500,4700,5500,4575,5500,5000,5950,4650,5500,4375,5850,6000,4925,4850,5750,5200,5400,3500,3900,3650,3525,3725,3950,3250,3750,4150,3700,3800,3775,3700,4050,3575,4050,3300,3700,3450,4400,3600,3400,2900,3800,3300,4150,3400,3800,3700,4550,3200,4300,3350,4100,3600,3900,3850,4800,2700,4500,3950,3650,3550,3500,3675,4450,3400,4300,3250,3675,3325,3950,3600,4050,3350,3450,3250,4050,3800,3525,3950,3650,3650,4000,3400,3775,4100,3775],"marker":{"color":[3750,3800,3250,3450,3650,3625,4675,3200,3800,4400,3700,3450,4500,3325,4200,3400,3600,3800,3950,3800,3800,3550,3200,3150,3950,3250,3900,3300,3900,3325,4150,3950,3550,3300,4650,3150,3900,3100,4400,3000,4600,3425,3450,4150,3500,4300,3450,4050,2900,3700,3550,3800,2850,3750,3150,4400,3600,4050,2850,3950,3350,4100,3050,4450,3600,3900,3550,4150,3700,4250,3700,3900,3550,4000,3200,4700,3800,4200,3350,3550,3800,3500,3950,3600,3550,4300,3400,4450,3300,4300,3700,4350,2900,4100,3725,4725,3075,4250,2925,3550,3750,3900,3175,4775,3825,4600,3200,4275,3900,4075,2900,3775,3350,3325,3150,3500,3450,3875,3050,4000,3275,4300,3050,4000,3325,3500,3500,4475,3425,3900,3175,3975,3400,4250,3400,3475,3050,3725,3000,3650,4250,3475,3450,3750,3700,4000,4500,5700,4450,5700,5400,4550,4800,5200,4400,5150,4650,5550,4650,5850,4200,5850,4150,6300,4800,5350,5700,5000,4400,5050,5000,5100,5650,4600,5550,5250,4700,5050,6050,5150,5400,4950,5250,4350,5350,3950,5700,4300,4750,5550,4900,4200,5400,5100,5300,4850,5300,4400,5000,4900,5050,4300,5000,4450,5550,4200,5300,4400,5650,4700,5700,5800,4700,5550,4750,5000,5100,5200,4700,5800,4600,6000,4750,5950,4625,5450,4725,5350,4750,5600,4600,5300,4875,5550,4950,5400,4750,5650,4850,5200,4925,4875,4625,5250,4850,5600,4975,5500,5500,4700,5500,4575,5500,5000,5950,4650,5500,4375,5850,6000,4925,4850,5750,5200,5400,3500,3900,3650,3525,3725,3950,3250,3750,4150,3700,3800,3775,3700,4050,3575,4050,3300,3700,3450,4400,3600,3400,2900,3800,3300,4150,3400,3800,3700,4550,3200,4300,3350,4100,3600,3900,3850,4800,2700,4500,3950,3650,3550,3500,3675,4450,3400,4300,3250,3675,3325,3950,3600,4050,3350,3450,3250,4050,3800,3525,3950,3650,3650,4000,3400,3775,4100,3775],"colorscale":["#FFE1A1","#683531"],"showscale":true,"line":{"color":"rgba(31,119,180,1)"}},"type":"scatter3d","mode":"markers","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;If you‚Äôve learned PCA before, you might have no problem interpreting &lt;strong&gt;Approach 1&lt;/strong&gt;. But if you haven‚Äôt, you might be wondering: What the **** is a PC1/PC2? What are the units of the axes? Why are there arrows pointing at different directions? What does a single point even represent? Most importantly, where did my penguins go!? Because the focus of this post is not about statistics, I won‚Äôt go into the details of explaining what a PCA is. What I do want to point out though, is how we can visualize data in a more accessible manner.&lt;/p&gt;
&lt;p&gt;Now, &lt;strong&gt;Approach 2&lt;/strong&gt; may also look like a handful. However, if you take a deep breath and carefully examine the plot, anyone would be able to interpret it, even without any background (assuming that they can read English, of course)! Upon closer inspection, you‚Äôll see that each point in the figure is made up of 4 variables: &lt;strong&gt;1. Bill length (mm)&lt;/strong&gt;, &lt;strong&gt;2. Bill depth (mm)&lt;/strong&gt;, &lt;strong&gt;3. Flipper length (mm)&lt;/strong&gt;, and &lt;strong&gt;4. Body size (g)&lt;/strong&gt;. All these variables characterize an individual penguin (a penguin is multi-dimensional!). The 4 variables are represented by 3 axes and a color gradient. The reason why we do not have a 4&lt;sup&gt;th&lt;/sup&gt; axis is because our brain is not programmed to think that way, so the 4&lt;sup&gt;th&lt;/sup&gt; variable is represented as a color gradient instead. An important thing to note is that, these points on the plot show &lt;em&gt;exactly&lt;/em&gt; what the data says. Nothing is distorted and its as raw as it can be. One cool feature of this plot is that it is interactive. Although our screen is 2D, we can get a better ‚Äúfeel‚Äù of the dimensionality by rotating the axes around. Rotating works by dragging the plot around with your cursor. By doing so, we‚Äôll see that at certain angles, the points look like a big ‚Äúcloud‚Äù while at other angles you can see a clear separation between clusters of points. Try playing around with the plot, explore its features, and see if you can find other ways of visualizing your data.&lt;/p&gt;
&lt;h2 id="dynamic-variables"&gt;Dynamic variables&lt;/h2&gt;
&lt;p&gt;Now let‚Äôs take a look at some ways to visualize dynamic variables, variables that change over time. &lt;a href="https://www.gapminder.org/about/"&gt;Gapminder&lt;/a&gt; is a foundation founded by Hans Rosling that aims to highlight common misconceptions about global trends with data. The &lt;code&gt;gapminder&lt;/code&gt; package in R provides a subset of its dataset. Let‚Äôs look at how life expectancy and GDP of each country changes over time (year).&lt;/p&gt;
&lt;h3 id="approach-1-static-representation-with-arrows"&gt;Approach 1: Static representation with arrows&lt;/h3&gt;
&lt;p&gt;&lt;img src="file2b5c74932ac4_files/figure-html/unnamed-chunk-3-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;h3 id="approach-2-animate-to-reveal-each-time-step-sequentially"&gt;Approach 2: Animate to reveal each time step sequentially&lt;/h3&gt;
&lt;p&gt;&lt;img src="file2b5c74932ac4_files/figure-html/unnamed-chunk-4-1.gif" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;For the dynamics example, the two figures above are actually identical. The only difference is that the animation shows how the state variable (in this case, life expectancy) &lt;em&gt;develops&lt;/em&gt; over time by revealing each data sequentially as time progresses. Animations are particularly helpful for visualizing time-series data with multiple variables because things can get cluttered really fast when lines are drawn to represent the passage of time. Although the animated version also shows a lot of cluttering towards the end, it doesn‚Äôt necessarily impede understanding because the viewer already has a sense of where each point &lt;em&gt;came&lt;/em&gt; from.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;gapminder&lt;/code&gt; dataset is the perfect example that demonstrates the power of good data visualization! If you haven‚Äôt already, I strongly encourage you to check out the seminal &lt;a href="https://www.ted.com/talks/hans_rosling_the_best_stats_you_ve_ever_seen"&gt;TED talk&lt;/a&gt; and this &lt;a href="https://www.youtube.com/watch?v=jbkSRLYSojo&amp;amp;t=34s"&gt;BBC trailer&lt;/a&gt; by Hans Rosling, the OG of descriptive and exploratory data analysis.&lt;/p&gt;
&lt;h2 id="now-for-some-coding"&gt;Now for some coding&lt;/h2&gt;
&lt;p&gt;Let‚Äôs go over some simple examples to see how you can make your own interactive plot with &lt;code&gt;plotly&lt;/code&gt; and animation with &lt;code&gt;gganimate&lt;/code&gt;. Both of these packages have really good documentation and you can find out more about them on their websites: &lt;a href="https://plotly.com/r/"&gt;plotly&lt;/a&gt; and &lt;a href="https://gganimate.com/articles/gganimate.html"&gt;gganimate&lt;/a&gt;&lt;/p&gt;
&lt;h3 id="i.-making-your-first-interactive-3d-plot-with-plotly"&gt;I. Making your first interactive 3D plot with &lt;em&gt;plotly&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;We‚Äôll use the &lt;a href="https://stat.ethz.ch/R-manual/R-patched/library/datasets/html/mtcars.html"&gt;mtcars&lt;/a&gt; dataset here as an example. Make sure to have the &lt;code&gt;plotly&lt;/code&gt; package installed on your computer.&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;plotly&lt;/code&gt; package is built to be compatible with &lt;code&gt;tidyverse&lt;/code&gt; with both sharing very similar syntax. Just as &lt;code&gt;ggplot()&lt;/code&gt; is to &lt;code&gt;ggplot2&lt;/code&gt;, the main engine of &lt;code&gt;plotly&lt;/code&gt; plots is the function &lt;code&gt;plot_ly()&lt;/code&gt;. Again, very similar to ggplot2, we supply the &lt;code&gt;plot_ly()&lt;/code&gt; function with our data frame and the variables we would like to plot.&lt;/p&gt;
&lt;p&gt;We‚Äôll start by loading the package(s) first, and tweak the dataset a little bit prior to plotting. Here, we will treat # of cylinders as a factor instead of a integer value for visualization purposes.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(tidyverse)
library(plotly)

mtcars_new &amp;lt;-  mtcars %&amp;gt;%
  mutate(cyl = as.factor(cyl))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again, very similar to &lt;code&gt;ggplot()&lt;/code&gt;, we supply the &lt;code&gt;plot_ly()&lt;/code&gt; function with the data that we want to plot and specify the axes which would be x, y, and z since we have a 3rd dimension. Note the small differences in how the variables are defined here. In &lt;code&gt;plot_ly()&lt;/code&gt; the variables are defined with the ‚Äú~‚Äù (tilde), which is like what you would normally do when defining a linear model (e.g.¬†&lt;code&gt;lm(y ~ x1 + x2)&lt;/code&gt;). In addition, we‚Äôll also specify a 4&lt;sup&gt;th&lt;/sup&gt; variable/dimension as the &lt;code&gt;color&lt;/code&gt; of the points.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;mt_plotly &amp;lt;- plot_ly(data = mtcars_new, x = ~wt, y = ~hp, z = ~qsec,
        color = ~cyl)
mt_plotly&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-6ce0cbcdaefb0a00c97f" style="width:80%;height:480px;" class="plotly html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-6ce0cbcdaefb0a00c97f"&gt;{"x":{"visdat":{"2b5c3ffe6426":["function () ","plotlyVisDat"]},"cur_data":"2b5c3ffe6426","attrs":{"2b5c3ffe6426":{"x":{},"y":{},"z":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"xaxis":{"title":"wt"},"yaxis":{"title":"hp"},"zaxis":{"title":"qsec"}},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2.32,3.19,3.15,2.2,1.615,1.835,2.465,1.935,2.14,1.513,2.78],"y":[93,62,95,66,52,65,97,66,91,113,109],"z":[18.61,20,22.9,19.47,18.52,19.9,20.01,18.9,16.7,16.9,18.6],"type":"scatter3d","mode":"markers","name":"4","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"frame":null},{"x":[2.62,2.875,3.215,3.46,3.44,3.44,2.77],"y":[110,110,110,105,123,123,175],"z":[16.46,17.02,19.44,20.22,18.3,18.9,15.5],"type":"scatter3d","mode":"markers","name":"6","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"frame":null},{"x":[3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845,3.17,3.57],"y":[175,245,180,180,180,205,215,230,150,150,245,175,264,335],"z":[17.02,15.84,17.4,17.6,18,17.98,17.82,17.42,16.87,17.3,15.41,17.05,14.5,14.6],"type":"scatter3d","mode":"markers","name":"8","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;And there you have it! Pretty straightforward, right? But if you‚Äôre picky, you might not be satisfied with this and want to tweak it some more. So let‚Äôs try to edit the axis labels, since they‚Äôre all abbreviated and have no units. Through the following code, you‚Äôll start seeing more &lt;code&gt;tidyverse&lt;/code&gt;/&lt;code&gt;ggplot2&lt;/code&gt; style elements of the &lt;code&gt;plot_ly&lt;/code&gt; syntax, see if you can spot them!&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;mt_plotly %&amp;gt;%
    layout(title = &amp;#39;Motor Trend Car Road Tests&amp;#39;,
         scene = list(xaxis = list(title = &amp;#39;Weight (1000lbs)&amp;#39;),
                      yaxis = list(title = &amp;#39;Horsepower (hp)&amp;#39;),
                      zaxis = list(title = &amp;#39;Quarter mile time (s)&amp;#39;)),
         annotations = list( # This section is hard-coded 
           x = 1.13,
           y = 1.05,
           text = &amp;#39;# of Cylcinders&amp;#39;,
           showarrow = FALSE))&lt;/code&gt;&lt;/pre&gt;
&lt;div id="htmlwidget-b15dcfa1aa08f5726e0f" style="width:80%;height:480px;" class="plotly html-widget"&gt;&lt;/div&gt;
&lt;script type="application/json" data-for="htmlwidget-b15dcfa1aa08f5726e0f"&gt;{"x":{"visdat":{"2b5c3ffe6426":["function () ","plotlyVisDat"]},"cur_data":"2b5c3ffe6426","attrs":{"2b5c3ffe6426":{"x":{},"y":{},"z":{},"color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20]}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Motor Trend Car Road Tests","scene":{"xaxis":{"title":"Weight (1000lbs)"},"yaxis":{"title":"Horsepower (hp)"},"zaxis":{"title":"Quarter mile time (s)"}},"annotations":[{"x":1.13,"y":1.05,"text":"# of Cylcinders","showarrow":false}],"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[2.32,3.19,3.15,2.2,1.615,1.835,2.465,1.935,2.14,1.513,2.78],"y":[93,62,95,66,52,65,97,66,91,113,109],"z":[18.61,20,22.9,19.47,18.52,19.9,20.01,18.9,16.7,16.9,18.6],"type":"scatter3d","mode":"markers","name":"4","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"frame":null},{"x":[2.62,2.875,3.215,3.46,3.44,3.44,2.77],"y":[110,110,110,105,123,123,175],"z":[16.46,17.02,19.44,20.22,18.3,18.9,15.5],"type":"scatter3d","mode":"markers","name":"6","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"frame":null},{"x":[3.44,3.57,4.07,3.73,3.78,5.25,5.424,5.345,3.52,3.435,3.84,3.845,3.17,3.57],"y":[175,245,180,180,180,205,215,230,150,150,245,175,264,335],"z":[17.02,15.84,17.4,17.6,18,17.98,17.82,17.42,16.87,17.3,15.41,17.05,14.5,14.6],"type":"scatter3d","mode":"markers","name":"8","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}&lt;/script&gt;
&lt;p&gt;Yes, &lt;code&gt;plot_ly&lt;/code&gt; functions are pipeable! The piping here is analogous to ‚Äú&lt;code&gt;+&lt;/code&gt;‚Äù in &lt;code&gt;ggplot2&lt;/code&gt; syntax. The &lt;code&gt;layout()&lt;/code&gt; is also much like the &lt;code&gt;theme()&lt;/code&gt; in &lt;code&gt;ggplot2&lt;/code&gt;. I will admit though, &lt;code&gt;plot_ly&lt;/code&gt; takes time to get used to. The arguments that functions take are sometimes not as straightforward, for example, when does it need to be a &lt;code&gt;list()&lt;/code&gt; and when does it not? Moreover, the legend title for the &lt;code&gt;color&lt;/code&gt; scheme is hard-coded because there is no argument for specifying legend titles at the moment (at least to my knowledge).&lt;/p&gt;
&lt;p&gt;So, in summary, I think &lt;code&gt;plot_ly&lt;/code&gt; offers a neat way of visualizing complex data. The interactive aspect can also help make data more accessible and can be a handy pedagogical tool. However, if you‚Äôre trying to make a figure to publish in a scientific journal, this is probably an overkill.&lt;/p&gt;
&lt;h3 id="ii.-making-your-first-animation-with-gganimate"&gt;II. Making your first animation with &lt;em&gt;gganimate&lt;/em&gt;&lt;/h3&gt;
&lt;p&gt;Because &lt;code&gt;gganimate&lt;/code&gt; is a part of the &lt;code&gt;tidverse&lt;/code&gt;/&lt;code&gt;ggplot2&lt;/code&gt; ecosystem, it should be very straightforward if you are already with familiar with either of them. The general schema of making an animation with &lt;code&gt;gganimate&lt;/code&gt; is to:&lt;/p&gt;
&lt;p&gt;&lt;span id="aaa" style="display: block; margin-top: 0px; margin-left: 50px"&gt;Create a &lt;code&gt;ggplot&lt;/code&gt; object with ALL your points plotted out.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="bbb" style="display: block; margin-top: 5px; margin-left: 50px"&gt;Decide how you would like the points to be animated by specifying how you would like the data to be shown over time. In the case of time-series, the ‚Äútime‚Äù variable will be the index of your animation.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="ccc" style="display: block; margin-top: 5px; margin-left: 50px"&gt;Choose an appropriate transition function from &lt;code&gt;gganimate&lt;/code&gt;, input your index variable (e.g.¬†time), and simply overlay (‚Äú+‚Äù) this call to your &lt;code&gt;ggplot&lt;/code&gt; object just as you would with adding &lt;code&gt;geom_point()&lt;/code&gt;, &lt;code&gt;geom_line()&lt;/code&gt;, &lt;code&gt;theme()&lt;/code&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="ddd" style="display: block; margin-top: 5px; margin-left: 50px; margin-bottom: 25px"&gt;THAT‚ÄôS IT!&lt;/span&gt;&lt;/p&gt;
&lt;style&gt;

d-article p span#aaa:before { 
  content: "1. "; 
  display: inline-block;
  margin-left: -1.5em;
  margin-right: 0.5em;
}

d-article p span#bbb:before { 
  content: "2. "; 
  display: inline-block;
  margin-left: -1.5em;
  margin-right: 0.5em;
}

d-article p span#ccc:before { 
  content: "3. "; 
  display: inline-block;
  margin-left: -1.5em;
  margin-right: 0.5em;
}

d-article p span#ddd:before { 
  content: "4. "; 
  display: inline-block;
  margin-left: -1.5em;
  margin-right: 0.5em;
}

d-article table.lightable-paper {
  margin-bottom: 0px; 
}

&lt;/style&gt;
&lt;p&gt;As you can imagine, animations take a little time to render. So for the sake brevity, I‚Äôll use only a subset of the &lt;code&gt;gapminder&lt;/code&gt; dataset.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(tidyverse)
library(gganimate)
library(gapminder)

# Subset the countries in Asia
gapminder_asia &amp;lt;- gapminder %&amp;gt;%
  filter(continent == &amp;#39;Asia&amp;#39;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;Let‚Äôs ‚Äúgg‚Äùplot it out:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;asia_p &amp;lt;- gapminder_asia %&amp;gt;%
  ggplot(aes(x = year, y = pop, group = country)) +
  geom_point() +
  geom_path() +
  geom_text(aes(label = country), hjust = -0.3, size = 2.5) +
  scale_y_log10() +
  xlim(1950, 2030) +
  theme_bw()

asia_p&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c74932ac4_files/figure-html/unnamed-chunk-9-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;This looks horrible, doesn‚Äôt it? But this is what I meant by ‚Äúplot it all out‚Äù. This will become clearer through the animation process though, since the points and texts of each country will only appear once at each time point. Because the line specified by &lt;code&gt;geom_path&lt;/code&gt; is continuous (only 1 line per group), it will only ‚Äúgrow‚Äù as time progresses. In other words, each country will only have a single line, a single point, and a single text throughout the animation.&lt;/p&gt;
&lt;p&gt;To make the plot an animation, simply choose an appropriate &lt;em&gt;transition function&lt;/em&gt; from the &lt;code&gt;gganimate&lt;/code&gt; package and add it to your &lt;code&gt;ggplot&lt;/code&gt;. But what the heck is a transition function? Transition functions are the functions the allow you to specify &lt;em&gt;how&lt;/em&gt; you want your plot to be animated. In most cases, all you need to provide to the function is the variable from your dataframe in which you want the animations to be indexed. For example, if we want the animations to progress over time, then we want the time-indexed variable to be our argument. Here, we‚Äôll use the &lt;code&gt;transition_reveal()&lt;/code&gt; function as our transition function since we are trying to visualize the temporal evolution of population size.&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;asia_p + transition_reveal(year)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c74932ac4_files/figure-html/unnamed-chunk-10-1.gif" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;As its name suggests, &lt;code&gt;transition_reveal()&lt;/code&gt; works by gradually ‚Äúrevealing‚Äù your data. The video/gif you see is really just a combination of multiple &lt;strong&gt;&lt;em&gt;frames&lt;/em&gt;&lt;/strong&gt;, and each frame consists of only data from a given year. The order of appearance is dependent on the order of your index variable (in our case, year). In some cases, it might not be &lt;em&gt;time&lt;/em&gt; that you want to animate and a &lt;em&gt;continuous&lt;/em&gt; animation might not be the ‚Äúessence‚Äù that you want your plot to communicate. Finding the correct transition function ultimately depends on the message that you want to convey.&lt;/p&gt;
&lt;h2 id="summary"&gt;Summary&lt;/h2&gt;
&lt;p&gt;I started off by suggesting to you that 2D static plots can sometimes limit our ability to communicate the story of our data. This is because our world is multi-dimensional and dynamic! I then showed you that we can overcome some of these limitations by creating &lt;strong&gt;I. Interactive plots&lt;/strong&gt; that allow you to rotate axes, thereby giving the perception of ‚Äúdepth‚Äù, and &lt;strong&gt;II. Animations&lt;/strong&gt; that captures the ‚Äúpassage of time‚Äù.&lt;/p&gt;
&lt;p&gt;Through this post, I hope I, at least slightly, highlighted the pedagogical implications of making intuitive and accessible data through thoughtful visualizations. So there you have it! May you live long and prosper üññ&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;William Ou is an ecologist broadly interested in complexity science, eco-evolutionary dynamics, and more recently, cognitive psychology. When not sciencing, he enjoys biking around the city, eating ice cream, making generative art with ggplot, and watching netflix. Check out &lt;a href="https://jiaangou.github.io/" target="_blank"&gt;his website&lt;/a&gt; to learn more!&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;div class="footnotes"&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id="fn1"&gt;&lt;p&gt;I refer to dynamic here as a term that indicates change over time, recognizing that time is sometimes interpreted as another dimension&lt;a href="#fnref1" class="footnote-back"&gt;‚Ü©Ô∏é&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;</description>
      <distill:md5>f80002fb158983d7ee991a621b052bc8</distill:md5>
      <category>2021</category>
      <guid>https://genchanghsu.github.io/ggGallery/posts/2021-05-26-guest-post-1-communicating-the-essence-of-your-data</guid>
      <pubDate>Wed, 26 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://genchanghsu.github.io/ggGallery/posts/2021-05-26-guest-post-1-communicating-the-essence-of-your-data/../../homepage_images/Guest_post1.gif" medium="image" type="image/gif"/>
    </item>
    <item>
      <title>Post #2. Three ways to create log axes in ggplots: which one should you use?</title>
      <dc:creator>Gen-Chang Hsu</dc:creator>
      <link>https://genchanghsu.github.io/ggGallery/posts/2021-05-07-post-2-three-ways-to-create-log-axes-in-ggplots-which-one-should-you-use</link>
      <description>


&lt;!-- Webpage style --&gt;
&lt;style&gt;
d-article a {
    color: #2780e3 !important;
      border-bottom: none !important;
}

d-article a:hover {
  color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
  margin-left: -10% !important;
}

d-title {
  margin-left: -10%;
}

d-title h1{
  font-size: 45px;
  width: 130%;
}

d-article {
  margin-left: -10%;
}

p {
  width: 120%;
}

d-article h2 {
  width: 120%;
}

div.article-footer{
  width: 120%;
}

d-article div.sourceCode { 
  width: 120% !important;
}

d-article pre { 
  width: 120% !important;
}

div.l-body {
  width: 120% !important;
}

d-article table thead tr {
  height: 60px !important;
  width: 210px !important;
}

d-article table thead th {
  height: 60px !important;
  font-size: 22px !important;
  width: 210px !important;
}

d-article table tbody tr td {
  font-size: 21px !important;
  height: 60px !important;
  text-align: center !important;
  width: 210px !important;
}

&lt;/style&gt;
&lt;!-- Start of the article --&gt;
&lt;p&gt;We often have data spanning across several orders of magnitude or having skewed distributions. In either case, we might consider transforming our data, and log transformation is one of the most common data transformation techniques people use.&lt;/p&gt;
&lt;p&gt;In ggplots, there are three different methods to do log transformation:&lt;br&gt; &lt;span style="display: block; margin-top: 10px; margin-left: 10px"&gt; &lt;strong&gt;(1) Transformation of variables&lt;/strong&gt;&lt;/span&gt; &lt;span style="display: block; margin-top: 5px; margin-left: 10px"&gt; &lt;strong&gt;(2) Transformation of scales&lt;/strong&gt;&lt;/span&gt; &lt;span style="display: block; margin-top: 5px; margin-left: 10px"&gt; &lt;strong&gt;(3) Transformation of coordinates&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;You can take a look at a brief demonstration of the three methods on this &lt;a href="https://ggplot2.tidyverse.org/reference/coord_trans.html"&gt;ggplot2 website&lt;/a&gt;. These methods share something in common, but also differ from each other in some ways, and I often find it confusing to use them (I think you might feel the same way as I do!)&lt;/p&gt;
&lt;p&gt;In this post, I will go over these methods one by one, explain the details, and make a comprehensive comparison. Hopefully, after reading the article, you will clear up the confusions and know how which method to go for your figures!&lt;/p&gt;
&lt;p&gt;By the way, we will be working with the famous &lt;a href="https://ggplot2.tidyverse.org/reference/diamonds.html"&gt;&lt;code&gt;diamonds&lt;/code&gt;&lt;/a&gt; dataset in ggplot2, which contains the price and various attributes of around 54,000 diamonds.&lt;/p&gt;
&lt;p&gt;Say we would like to see how the price of diamonds is related to the weight (carat) of diamonds. Let‚Äôs first make a scatterplot to visualize their relationship:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(tidyverse)

ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point() +
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-1-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;It looks a bit over-plotted, but still you can see a seemingly non-linear positive relationship between price and carat. So we decide to log-transform the data to make the relationship more linear.&lt;/p&gt;
&lt;h2 id="method-1.-transformation-of-variables"&gt;Method 1. Transformation of variables&lt;/h2&gt;
&lt;p&gt;The first method is transformation of variables. This is done by applying &lt;code&gt;log()&lt;/code&gt; directly to the x and/or y variables in the &lt;code&gt;aes()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = log10(carat), y = log10(price))) +
  geom_point() +
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-2-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;As you can see, the relationship does become more linear. This method simply log-transforms the x and y variables and plot them as is, and so now the axis ticks display the transformed rather than the original values.&lt;/p&gt;
&lt;p&gt;If we fit a line through the points using &lt;code&gt;stat_smooth()&lt;/code&gt;, we are essentially fitting a linear model with log-transformed carat and price as the predictor and the response:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = log10(carat), y = log10(price))) +
  geom_point() +
  stat_smooth(method = &amp;quot;lm&amp;quot;, se = F) + 
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-3-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;Just that simple and easy! Though, a minor drawback of this method is that, since the axes now represent the transformed values, the interpretation might become a bit not so straightforward (e.g., what is a diamond of -0.4 log&lt;sub&gt;10&lt;/sub&gt;(carat), or a diamond with a log&lt;sub&gt;10&lt;/sub&gt;(price) of around 3.5?!)&lt;/p&gt;
&lt;h2 id="method-2.-transformation-of-scales"&gt;Method 2. Transformation of scales&lt;/h2&gt;
&lt;p&gt;The second method is transformation of scales. This is done by specifying the &lt;code&gt;trans =&lt;/code&gt; argument in the &lt;code&gt;scale_XXX_continuous()&lt;/code&gt; function:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point() +
  scale_x_continuous(trans = &amp;quot;log10&amp;quot;) + 
  scale_y_continuous(trans = &amp;quot;log10&amp;quot;) +
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-4-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;Looks pretty similar to the plot we get from the first method right? Basically, this second method does the same thing as the first one in the beginning: log-transforming the data. But then, instead of displaying the transformed vales on the axes like what the first method does, it actually converts them back into the original values. This is why you will find that the tick marks are equally-spaced yet their corresponding numbers are not equally-distanced.&lt;/p&gt;
&lt;p&gt;Again, we fit a line using &lt;code&gt;stat_smooth()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point() +
  scale_x_continuous(trans = &amp;quot;log10&amp;quot;) + 
  scale_y_continuous(trans = &amp;quot;log10&amp;quot;) +
  stat_smooth(method = &amp;quot;lm&amp;quot;, se = F) + 
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-5-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;It is important to note that the line is fitted after the log transformation of data. In other words, the line is fitted using the log-transformed carat and price as the predictor and the response (i.e., log&lt;sub&gt;10&lt;/sub&gt;(price) ~ log&lt;sub&gt;10&lt;/sub&gt;(carat), not price~carat !!!). So in the plot, a price of around $3,000 for a 1.0 carat diamond actually represents the back-converted predicted log&lt;sub&gt;10&lt;/sub&gt;-price for that diamond.&lt;/p&gt;
&lt;p&gt;In fact, any statistical computations (e.g., fitted line, mean, median, error bars) applied to the data will always occur &lt;strong&gt;AFTER&lt;/strong&gt; the transformation of scales. That is, the statistics will be computed on the log-transformed data!&lt;/p&gt;
&lt;h2 id="method-3.-transformation-of-coordinates"&gt;Method 3. Transformation of coordinates&lt;/h2&gt;
&lt;p&gt;The third method is transformation of coordinates. This is done by specifying the transformation for the x and/or y axis in &lt;code&gt;coord_trans()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point() +
  coord_trans(x = &amp;quot;log10&amp;quot;, y = &amp;quot;log10&amp;quot;) +
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-6-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;You can see that the axes display original values, same as what we have seen in the second method. But it is pretty obvious that the tick marks are not equally-spaced, different from the second method (take a quick look back at the previous plot!).&lt;/p&gt;
&lt;p&gt;Indeed, what this third method does is that it converts the original linear axes into log axes and shifts the original tick marks (which are equally-spaced with equally-distanced numbers) to the new corresponding log positions (which of course will not be equally-spaced but the corresponding numbers are still the same). As a result, the numbers on the tick marks are equally-distanced yet the tick marks themselves are not equally-spaced.&lt;/p&gt;
&lt;p&gt;Now we call &lt;code&gt;stat_smooth()&lt;/code&gt; to fit a line:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(diamonds, aes(x = carat, y = price)) +
  geom_point() +
  stat_smooth(method = &amp;quot;lm&amp;quot;, se = F) +
  coord_trans(x = &amp;quot;log10&amp;quot;, y = &amp;quot;log10&amp;quot;, ylim = c(min(diamonds$price), NA)) + # Need to specify the lower limit for y-axis!
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c7971a96_files/figure-html/unnamed-chunk-7-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;What! The line is not straight?! Yup, it is not straight. Your vision is fine! So why is that?&lt;/p&gt;
&lt;p&gt;This is because the line is fitted using the original price and carat rather than the log-transformed data (i.e., price~carat, not log&lt;sub&gt;10&lt;/sub&gt;(price) ~ log&lt;sub&gt;10&lt;/sub&gt;(carat) !!!), after which the predicted price is then log-transformed and drawn on the plot. So after the transformation, the line will no longer be straight.&lt;/p&gt;
&lt;p&gt;Different from the second method, in this third method, any statistical computations applied to the data will always occur &lt;strong&gt;BEFORE&lt;/strong&gt; the transformation of coordinates. That is, the statistics will be computed on the original data and then log-transformed to be shown on the plot!&lt;/p&gt;
&lt;p&gt;Note that here I also specify the lower limit (using min price value) for y-axis. Without this, you will get an error message saying something like ‚Äúmissing value where TRUE/FALSE needed‚Äù. The line is fitted using the original carat and price as the predictor and the response, and in this example we have some non-positive predicted values. These non-positive values are the culprit: the error arises when ggplot attempts to take log of them (remember the computed statistics will be log-transformed to be drawn on the plot)!&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;lm_diamonds &amp;lt;- lm(price~carat, data = diamonds)
predict(lm_diamonds) %&amp;gt;% head() # Non-positive predicted values exist&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;          1           2           3           4           5 
-472.382688 -627.511200 -472.382688   -6.997151  148.131362 
          6 
-394.818432 &lt;/code&gt;&lt;/pre&gt;
&lt;pre class="r"&gt;&lt;code&gt;predict(lm_diamonds) %&amp;gt;% log10() %&amp;gt;% head() # NaNs produced when you take log of the non-positive values &lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;       1        2        3        4        5        6 
     NaN      NaN      NaN      NaN 2.170647      NaN &lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;For the second method (transformation of scales), in which the line is fitted and drawn after log transformation, there is no such problem because the predicted values (of course can be non-positive) do not need to undergo transformation again, and so you will always get a straight line!&lt;/p&gt;
&lt;h2 id="which-transformation-method-to-use"&gt;Which transformation method to use?&lt;/h2&gt;
&lt;p&gt;Still confused? In the following table, I summarize the similarities/differences among the three log transformation methods we have discussed:&lt;/p&gt;
&lt;table class=" lightable-paper" style="font-size: 35px; font-family: Arial; margin-left: auto; margin-right: auto;"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th style="text-align:center;font-weight: bold;color: black !important;"&gt;
&lt;/th&gt;
&lt;th style="text-align:center;font-weight: bold;color: black !important;"&gt;
Transformation of variables
&lt;/th&gt;
&lt;th style="text-align:center;font-weight: bold;color: black !important;"&gt;
Transformation of scales
&lt;/th&gt;
&lt;th style="text-align:center;font-weight: bold;color: black !important;"&gt;
Transformation of coordinates
&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td style="text-align:center;font-style: italic;"&gt;
Axis values
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Transformed
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Original
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Original
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:center;font-style: italic;"&gt;
Axis tick marks
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Equally-spaced
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Equally-spaced
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Not equally-spaced
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:center;font-style: italic;"&gt;
Numbers on tick marks
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Equally-distanced
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Not equally-distanced
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Equally-distanced
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:center;font-style: italic;"&gt;
Statistical computations
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
After transformation
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
After transformation
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Before transformation
&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td style="text-align:center;font-style: italic;"&gt;
Shape of geoms
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Not affected
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Not affected
&lt;/td&gt;
&lt;td style="text-align:center;"&gt;
Might be affected*
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;&lt;span style="font-size: 18px; margin-top: -100px"&gt;*E.g., the fitted straight line becomes curved.&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt; And here is a simple dichotomous key to which method to use for your figures (of course it is my opinion, not the standard rule!):&lt;/p&gt;
&lt;p&gt;&lt;span id="aaa" style="display: block; margin-top: 0px; margin-left: 50px"&gt;You are fine with log-transformed axis values‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. &lt;strong&gt;Method 1&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="bbb" style="display: block; margin-top: 5px; margin-left: 50px"&gt;You want your axis to display original values‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶2&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="ccc" style="display: block; margin-top: 5px; margin-left: 50px"&gt;You want to preserve the shape of geoms and it is okay for the statistics to be computed on the log-transformed data (geom-focused)‚Ä¶‚Ä¶‚Ä¶&lt;strong&gt;Method 2&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;span id="ddd" style="display: block; margin-top: 5px; margin-left: 50px; margin-bottom: 25px"&gt;You want the statistics to be computed on the original data and it is okay to have the shape of geoms altered (stat-focused)‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶..&lt;strong&gt;Method 3&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;
&lt;style&gt;

d-article p span#aaa:before { 
  content: "1a. "; 
  display: inline-block;
  margin-left: -2em;
  margin-right: 0.5em;
}

d-article p span#bbb:before { 
  content: "1b. "; 
  display: inline-block;
  margin-left: -2em;
  margin-right: 0.5em;
}

d-article p span#ccc:before { 
  content: "2a. "; 
  display: inline-block;
  margin-left: -2em;
  margin-right: 0.5em;
}

d-article p span#ddd:before { 
  content: "2b. "; 
  display: inline-block;
  margin-left: -2em;
  margin-right: 0.5em;
}

d-article table.lightable-paper {
  margin-bottom: 0px; 
}

&lt;/style&gt;
&lt;p&gt;This is the end of this rather long post. Hooray! Hope it is worth the time and you do learn something useful. And as always, don‚Äôt forget to leave your comments and suggestions below if you have any!&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>807f776165add115766d04d7ad318b5c</distill:md5>
      <category>2021</category>
      <guid>https://genchanghsu.github.io/ggGallery/posts/2021-05-07-post-2-three-ways-to-create-log-axes-in-ggplots-which-one-should-you-use</guid>
      <pubDate>Fri, 07 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://genchanghsu.github.io/ggGallery/posts/2021-05-07-post-2-three-ways-to-create-log-axes-in-ggplots-which-one-should-you-use/../../homepage_images/Post2.png" medium="image" type="image/png" width="960" height="576"/>
    </item>
    <item>
      <title>Post #1. Center long legend titles in ggplots</title>
      <dc:creator>Gen-Chang Hsu</dc:creator>
      <link>https://genchanghsu.github.io/ggGallery/posts/2021-05-01-post-1-center-long-legend-titles-in-ggplots</link>
      <description>


&lt;!-- Webpage style --&gt;
&lt;style&gt;
d-article a {
    color: #2780e3 !important;
    border-bottom: none !important;
}

d-article a:hover {
    color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
    margin-left: -10% !important;
}

d-title {
    margin-left: -10%;
}

d-title h1{
    font-size: 45px;
    width: 130%;
}

d-article {
    margin-left: -10%;
}

p {
    width: 120%;
}

d-article h2 {
    width: 120%;
}

div.article-footer{
    width: 120%;
}

d-article div.sourceCode { 
    width: 120% !important;
}

d-article pre { 
    width: 120% !important;
}

div.l-body {
    width: 120% !important;
}

&lt;/style&gt;
&lt;!-- Start of the article --&gt;
&lt;h2 id="before-we-start"&gt;Before we start&lt;/h2&gt;
&lt;p&gt;‚ÄúBlogenesis‚Äù! This is the origin of my first ggGallery blog post! Feel excited to write about something in which I am interested. This very first post is a simple one, but I bet it will be pretty handy. Hope you learn something from this post. Most importantly, enjoy the reading!&lt;/p&gt;
&lt;h2 id="the-problem"&gt;The problem&lt;/h2&gt;
&lt;p&gt;When making a ggplot with legend, the legend title is left-aligned by default:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;library(tidyverse)

ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Cyl&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-1-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;If you are happy with it, then fine. But oftentimes, we would like to align the legend title to the center so that the legend looks more balanced. For short titles, this is easy to achieve, just use &lt;code&gt;theme(legend.title.align = 0.5)&lt;/code&gt;:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Cyl&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13) + 
  theme(legend.title.align = 0.5) # Align the title to the center&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-2-1.png" width="70%" /&gt;&lt;/p&gt;
&lt;p&gt;However, for legend titles that are longer than the legend keys and labels, this method does not work:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Number of cylinders&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13) + 
  theme(legend.title.align = 0.5) # Not work!&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-3-1.png" width="75%" /&gt;&lt;/p&gt;
&lt;p&gt;There is a solution to this problem on &lt;a href="https://stackoverflow.com/questions/48000292/center-align-legend-title-and-legend-keys-in-ggplot2-for-long-legend-titles"&gt;stackoverflow&lt;/a&gt;. Basically, what it does is to extract the individual elements from the legend grobs, add extra space, and finally piece them back together. This method really delves into the heart of ggplots, but such ‚Äúbrute force‚Äù method might require quite a bit of time as well as decent understandings of how ggplot legends is built.&lt;/p&gt;
&lt;p&gt;So isn‚Äôt there a simpler and more elegant way to do so?&lt;/p&gt;
&lt;h2 id="the-hack"&gt;The hack&lt;/h2&gt;
&lt;p&gt;The answer to this question is a complete no-brainer: Yes! Otherwise, I will not be writing this blog, right?! &lt;strong&gt;Here is the hack: just use ‚Äúnegative‚Äù left margin around the legend title&lt;/strong&gt;:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Number of cylinders&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13) + 
  theme(legend.title = element_text(margin = margin(l = -25))) # Negative left margin&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-4-1.png" width="75%" /&gt;&lt;/p&gt;
&lt;p&gt;Now the title lies nicely in the center of the legend. Hooray!&lt;/p&gt;
&lt;h2 id="the-explanation"&gt;The explanation&lt;/h2&gt;
&lt;p&gt;So how does negative margin work? Let‚Äôs visualize it by showing the legend box border. By default, there is no margin around the title, which will fit just right within the box border:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# Default left margin
ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Number of cylinders&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13) + 
  theme(legend.title = element_text(margin = margin(l = 0)), 
        legend.background = element_rect(color = &amp;quot;black&amp;quot;)) +
  labs(title = &amp;quot;Default margin&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-5-1.png" width="75%" /&gt; If you specify a positive left margin, then there will be extra space added between the title and left box border:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# Positive left margin
ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Number of cylinders&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 13) + 
  theme(legend.title = element_text(margin = margin(l = 25)),
        legend.background = element_rect(color = &amp;quot;black&amp;quot;)) +
  labs(title = &amp;quot;Positive left margin&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-6-1.png" width="75%" /&gt;&lt;/p&gt;
&lt;p&gt;But if you specify a negative margin, then you are asking ggplot to add some ‚Äúnegative‚Äù space between the title and left box border, and what that means is that ggplot will ‚Äúpull‚Äù the title toward left beyond the box border:&lt;/p&gt;
&lt;pre class="r"&gt;&lt;code&gt;# Negative left margin
ggplot(mtcars, aes(wt, mpg)) + 
  geom_point(aes(colour = factor(cyl))) + 
  geom_smooth(aes(colour = factor(cyl)), method = &amp;quot;lm&amp;quot;, se = F) +
  scale_color_discrete(name = &amp;quot;Number of cylinders&amp;quot;, 
                       label = c(&amp;quot;Four&amp;quot;, &amp;quot;Six&amp;quot;, &amp;quot;Eight&amp;quot;)) + 
  theme_classic(base_size = 12) + 
  theme(legend.title = element_text(margin = margin(l = -25)),
        legend.background = element_rect(color = &amp;quot;black&amp;quot;)) +
  labs(title = &amp;quot;Negative left margin&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src="file2b5c6f116ef_files/figure-html/unnamed-chunk-7-1.png" width="75%" /&gt;&lt;/p&gt;
&lt;p&gt;And after removing the box border, you will find that the title just moves to the center of the legend!&lt;/p&gt;
&lt;p&gt;Finally, I think you might ask: what negative margin value should I specify? The answer is: it depends! It really depends on the relative length of your title to your legend keys and labels, and so you might need to try out a few different values and see how it goes. Though this might seem a bit tedious, it offers you the most flexibility to place your title at the exact position you desire. It is worth the effort!&lt;/p&gt;
&lt;p&gt;Definitely try this tip out next time. And if you have any further ideas or questions, don‚Äôt forget to leave them below!&lt;/p&gt;
&lt;pre class="r distill-force-highlighting-css"&gt;&lt;code&gt;&lt;/code&gt;&lt;/pre&gt;</description>
      <distill:md5>d50d1f29b4eed5b0451e02ac418974ed</distill:md5>
      <category>2021</category>
      <guid>https://genchanghsu.github.io/ggGallery/posts/2021-05-01-post-1-center-long-legend-titles-in-ggplots</guid>
      <pubDate>Sat, 01 May 2021 00:00:00 +0000</pubDate>
      <media:content url="https://genchanghsu.github.io/ggGallery/posts/2021-05-01-post-1-center-long-legend-titles-in-ggplots/../../homepage_images/Post1.png" medium="image" type="image/png" width="1152" height="672"/>
    </item>
  </channel>
</rss>
