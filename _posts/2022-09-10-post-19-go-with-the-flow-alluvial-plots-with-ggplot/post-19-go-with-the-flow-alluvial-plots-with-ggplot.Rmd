---
title: "Post #19. Go with the flow - alluvial plots in ggplot"
description: |
  In this post, we will learn how to create flowy alluvial plots in ggplot with the extension package `ggalluvial`.
author:
  - name: Gen-Chang Hsu
date: 2022-09-10
output:
  distill::distill_article:
    self_contained: false
categories:
  - "2022"
preview: ../../homepage_images/Post19.png
---

<!-- Webpage style -->
<style>
d-article a {
    color: #2780e3 !important;
    border-bottom: none !important;
}

d-article a:hover {
    color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
    margin-left: -10% !important;
}

d-title {
    margin-left: -10%;
}

d-title h1{
    font-size: 45px;
    width: 130%;
}

d-article {
    margin-left: -10%;
}

p {
    width: 120%;
}

d-article h2 {
    width: 120%;
}

d-article h3 {
  width: 120%;
  font-size: 28px;
}

div.article-footer{
    width: 120%;
}

d-article div.sourceCode { 
    width: 120% !important;
}

d-article pre { 
    width: 120% !important;
}

div.l-body {
    width: 120% !important;
}

div.l-body img {
    margin-right: 20% !important;
}

</style>

```{r setup, include = FALSE}
knitr::opts_chunk$set(message = F, 
                      error = F, 
                      warning = F,
                      fig.align = "center")

```

<!-- Start of the article -->

## Introduction
The alluvial diagram is a type of flow chart that represents changes in a network structure over time. In that sense, it helps identify patterns and trends. It is named after the alluvial fan, a stream of water extending over an area that becomes flat, so it refers to both its shape and flow.

It works with categorical or qualitative variables, which are assigned to parallel vertical axes.

These axes have several values in the form of blocks. Each block has a particular size and, flow streams pass through each with different proportions that change over time.

According to the Data Viz Project, it serves to compare, correlate, distribute, and identify trends over time.

Alluvial diagrams do not usually have labels for the value of the flow stream (the equivalent number), so you start from estimates in most cases. You can tell that one flow stream is more extensive than another, but not by how much. It gives you a general picture of the flows.


Stacked barplot but instead of having the levels of the same variables as x-axis, it has different variables, and the levels in each variable become the individual stacks. 







## Create an alluvial plot with `ggalluvial`




```{r, fig.width = 9, fig.height = 5, out.width = "85%"}
# install.packages("ggalluvial")  # install the package if you haven't
library(ggalluvial)
library(tidyverse)





```




## Summary





Hope you learn something useful from this post and don't forget to leave your comments and suggestions below if you have any!
