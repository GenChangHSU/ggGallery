---
title: "Post #28. Adding an external image to ggplots"
description: |
  Come and learn different ways of adding an external image to ggplots to make your figures more appealing!
author:
  - name: Gen-Chang Hsu
date: 2023-8-22
output:
  distill::distill_article:
    self_contained: false
categories:
  - "2023"
preview: ../../homepage_images/Post28.png
draft: true
---

<!-- Webpage style -->

<style>
d-article a {
    color: #2780e3 !important;
      border-bottom: none !important;
}

d-article a:hover {
  color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
  margin-left: -10% !important;
}

d-title {
  margin-left: -10%;
}

d-title h1{
  font-size: 45px;
  width: 130%;
}

d-article {
  margin-left: -10%;
}

p {
  width: 120%;
}

d-article h2 {
  width: 120%;
}

d-article h3 {
  width: 120%;
  font-size: 28px;
}

div.article-footer{
  width: 120%;
}

d-article div.sourceCode { 
  width: 120% !important;
}

d-article pre { 
  width: 120% !important;
}

div.l-body {
  width: 120% !important;
}

d-article table thead tr {
  height: 60px !important;
  width: 210px !important;
}

d-article table thead th {
  height: 60px !important;
  font-size: 22px !important;
  width: 210px !important;
}

d-article table tbody tr td {
  font-size: 21px !important;
  height: 60px !important;
  text-align: center !important;
  width: 210px !important;
}

div.l-body img {
    margin-right: 20% !important;
}

</style>

```{r setup, include = FALSE}
knitr::opts_chunk$set(message = F, 
                      error = F, 
                      warning = F,
                      fig.align = "center")

```

<!-- Start of the article -->

## Introduction

Sometimes, we would like to put an image, an illustration, or a silhouette in the figure to make it more visually appealing. How can we do this in ggplots? Well, this is actually not difficult at all. And in this post, I'm going to introduce four ways of adding an external image to ggplots. Read below! 


## Four ways of adding an image to ggplots

### (1) The package `ggimage`

The extension package [`ggimage`](https://yulab-smu.top/pkgdocs/ggimage.html) has a function `geom_image()` that draws images on ggplots. Simply specify the x- and y-coordinates and map the image (either a local file path or an url) to the "image" argument and you're all set!

```{r, fig.width = 5, fig.height = 3, out.width = "70%"}
library(tidyverse)
library(ggimage)

### The url of an iris image
url <- "https://images.phylopic.org/images/0a8ab4f9-04c9-4485-b21a-df683d506055/raster/222x512.png"

### A boxplot with an iris image added
ggplot(iris, aes(x = Species, y = Sepal.Length, color = Species)) + 
  geom_boxplot() + 
  geom_image(aes(x = 1, y = 7.5, image = url), size = 0.07, color = "purple") +
  scale_color_brewer(palette = "Set1") +
  theme_classic(base_size = 13)

```
<br>

We can also use the image as points for the scatterplot:

```{r, fig.width = 5, fig.height = 3, out.width = "70%"}
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width)) + 
  geom_image(aes(image = url, color = Species), size = 0.03) + 
  scale_color_brewer(palette = "Set1") +
  theme_classic(base_size = 13)

```

### (2) ggtext







### (3) cowplot



### (4) patchwork





## Summary


Hope you learn something useful from this post and don't forget to leave your comments and suggestions below if you have any!

