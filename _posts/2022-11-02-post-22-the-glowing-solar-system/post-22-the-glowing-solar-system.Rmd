---
title: "Post #22. An epic ggplot journey through the glowing solar system"
description: |
  Ready for an epic ggplot journey through the glowing solar system? Let's go!   
author:
  - name: Gen-Chang Hsu
date: 2022-11-02
output:
  distill::distill_article:
    self_contained: false
categories:
  - "2022"
preview: ../../homepage_images/Post22.png
draft: true
---

<!-- Webpage style -->

<style>
d-article a {
    color: #2780e3 !important;
      border-bottom: none !important;
}

d-article a:hover {
  color: #2780e3 !important;
    border-bottom: 2px solid !important;
}

d-byline {
  margin-left: -10% !important;
}

d-title {
  margin-left: -10%;
}

d-title h1{
  font-size: 45px;
  width: 130%;
}

d-article {
  margin-left: -10%;
}

p {
  width: 120%;
}

d-article h2 {
  width: 120%;
}

d-article h3 {
  width: 120%;
  font-size: 28px;
}

div.article-footer{
  width: 120%;
}

d-article div.sourceCode { 
  width: 120% !important;
}

d-article pre { 
  width: 120% !important;
}

div.l-body {
  width: 120% !important;
}

d-article table thead tr {
  height: 60px !important;
  width: 210px !important;
}

d-article table thead th {
  height: 60px !important;
  font-size: 22px !important;
  width: 210px !important;
}

d-article table tbody tr td {
  font-size: 21px !important;
  height: 60px !important;
  text-align: center !important;
  width: 210px !important;
}

div.l-body img {
    margin-right: 20% !important;
}

</style>


```{r setup, include = FALSE}
knitr::opts_chunk$set(message = F, 
                      error = F, 
                      warning = F,
                      fig.align = "center")

```

<!-- Start of the article -->

## Background

Recently, I stumbled upon a [post](https://www.behance.net/gallery/100683383/Travelling-to-Outer-Space) by data visualization designer CÃ©dric Scherer, and I was completely blown away: I could never imagine how amazing ggplots can be (I believe you'll be in awe of it too)! Inspired by this, I hope to create my own one as well, both for fun and for learning and practicing. In fact, I think this is an excellent opportunity to bring together different data science skills: data scraping, data wrangling, and data visualization.

The rocket is about to lift off now. Take a deep breath and we are ready for our space journey!!!

## A leg-by-leg journey to the solar system

Since this entire journey is quite long, I'll break it down into several legs so that we can explore the scenery in more details. 

### Leg 1. Scrape the planetary data

Our first leg is to prepare the planetary data for our plot. We'll do so by scraping the information from the website and then organizing it into a tidy table.

```{r, fig.width = 6, fig.height = 4, out.width = "75%"}
library(tidyverse)
library(rvest)
library(janitor)  # for the function "clean_names()"

html <- read_html("https://www.encyclopedia.com/reference/encyclopedias-almanacs-transcripts-and-maps/major-planets-solar-system-table")

planetary_dat <- html %>% 
  html_element("table") %>% 
  html_table() %>% 
  slice(., -c(1, 2, 4)) %>% 
  select(where(function(x){!is.na(x) %>% any()})) %>% 
  `colnames<-`(.[1, ]) %>% 
  .[-1, ] %>% 
  mutate(across(c(2, 5, 6, 7), as.numeric)) %>% 
  clean_names()

head(planetary_dat, 5)  

```

### Step 2. Add url paths to the planet images

Add wiki url paths to the images

```{r, fig.width = 6, fig.height = 4, out.width = "75%"}



```

### Step 3. Create a line chart of planets

line chart with distance to sun as x axis (reverse the axis) and size as y axis
blurry points with planet sizes as area size, color by dist to sun
add solid opaque points
color the line by distance to sun

```{r, fig.width = 6, fig.height = 4, out.width = "75%"}



```

### Step 4. Create a polar barplot

make the plot circular
add the planet images and labels (white)
add a sun in the middle

```{r, fig.width = 6, fig.height = 4, out.width = "75%"}



```


### Step 5. Polish the figure 

black background
add random dots as stars
add some annotations

```{r, fig.width = 6, fig.height = 4, out.width = "75%"}



```

We're at the very end of the solar system. It's time to get back to Earth. 

## Summary

What a memorable journey! Hope you learn something useful from this post and don't forget to leave your comments and suggestions below if you have any!
